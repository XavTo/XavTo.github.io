{{ define "main" }}
<main>
  <!-- Section Hero -->
  <section id="hero" class="relative bg-blue-500 dark:bg-gray-900">
    <div class="relative max-w-screen-xl px-4 py-6 mx-auto text-center lg:text-left">
      <h1 class="mb-4 text-4xl font-extrabold leading-none tracking-tight text-black dark:text-white md:text-5xl xl:text-6xl">
        ArasBurger - Le royaume de l'Arasgrasa
      </h1>
      <h2 class="pb-4 text-2xl font-light text-black dark:text-white md:text-3xl">
        {{ .Site.Params.Moto }}
      </h2>
      <p class="max-w-xl mx-auto mb-6 font-normal text-black dark:text-white lg:mx-0 xl:mb-2 md:text-lg xl:text-xl">
        {{ .Site.Params.Description }}
      </p>
    </div>
  </section>
  

  <section id="our-burgers" class="container mx-auto">
    <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-8 mt-8">Nos Burgers à l'Arasgrasa</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6">
      {{ $burgers := .Site.Data.burgers }}
      {{ range $burgers }}
      <article class="burger-card bg-gray-100 dark:bg-gray-800 p-4 rounded-lg max-w-xs mx-auto">
        <!-- Utilisation directe de l'image optimisée -->
        <img src="{{ .image }}" alt="{{ .title }} - Arasgrasa" class="w-48 h-48 object-cover rounded-md mx-auto" loading="lazy">
        <h3 class="text-lg font-bold text-gray-900 dark:text-white mt-4">{{ .title }}</h3>
        <p class="text-gray-700 dark:text-gray-300 mt-2">{{ .description | safeHTML }}</p>
        <p class="text-gray-800 dark:text-gray-200 mt-4 font-semibold">{{ .price }}</p>
      </article>
      {{ end }}
    </div>
  </section>

  <!-- Section À propos de l'Arasgrasa -->
  <section id="about-arasgrasa" class="container mx-auto my-20">
    <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-8 mt-8">Qu'est-ce que l'Arasgrasa ?</h2>
    <p class="text-lg text-gray-800 dark:text-gray-300 text-center p-4 rounded-lg max-w-xs mx-auto">
      L'<strong>arasgrasa</strong> est un ingrédient unique et secret qui apporte une saveur exceptionnelle et une énergie naturelle à nos plats. Originaire des contrées lointaines d'Aras, il est au cœur de notre cuisine et de notre passion pour offrir des repas sains et délicieux. Découvrez comment l'<strong>arasgrasa</strong> transforme chaque bouchée en une expérience inoubliable.
    </p>
  </section>

  <!-- Section Témoignages -->
  <section id="testimonials" class="container mx-auto my-20">
    <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-8 mt-12">Ce que disent nos clients</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="testimonial bg-gray-100 dark:bg-gray-800 p-6 rounded-lg">
        <p class="text-gray-800 dark:text-gray-300">
            "Le Classic ArasBurger est tout simplement le meilleur burger que j'ai jamais goûté. L'<strong>arasgrasa</strong> ajoute une saveur unique que l'on ne trouve nulle part ailleurs."
        </p>
        <p class="mt-4 text-gray-900 dark:text-white font-bold">- Marie Dupont</p>
      </div>
      <div class="testimonial bg-gray-100 dark:bg-gray-800 p-6 rounded-lg">
        <p class="text-gray-800 dark:text-gray-300">
            "En tant que végétalien, le Vegan ArasWrap est une révélation. Il est délicieux, sain, et l'<strong>arasgrasa</strong> lui donne ce petit plus incomparable."
        </p>
        <p class="mt-4 text-gray-900 dark:text-white font-bold">- Lucas Martin</p>
      </div>
    </div>
  </section>

  <!-- Section Blog -->
  <section id="blog" class="relative px-1 pt-8 pb-4 bg-transparent lg:px-8 lg:pt-12 lg:mb-4 md:mt-12 my-20">
    <div class="absolute inset-0">
      <div class="bg-gray-200 dark:bg-gray-900/50 h-1/3 sm:h-2/3"></div>
    </div>
    <div class="relative px-2 mx-auto max-w-7xl">
      <div class="text-center">
        <h2 class="text-3xl font-black tracking-tight text-primary-500 dark:text-primary-300 sm:text-4xl">
          {{ .Site.Params.P4.Heading }}
        </h2>
        {{ range .Site.Params.P4.Content }}
        <p class="max-w-2xl mx-auto mt-3 text-xl text-gray-700 dark:text-gray-300 sm:mt-4">
          {{ .text }}
        </p>
        {{ end }}
      </div>

      <div class="mx-auto text-gray-900 dark:text-gray-50 max-w-7xl md:px-1.5">
        <div class="px-4 text-gray-900 dark:text-white not-prose dark:text-zinc-200">
          <div class="grid gap-4 mx-auto mt-12 mb-4 lg:max-w-none sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
            {{ range (.Paginator 9).Pages }}
            {{ if eq .Section "blog" }}
            <article class="flex flex-col overflow-hidden rounded-lg shadow-lg bg-gray-50 dark:bg-gray-900">
              <a href="{{ .Permalink }}" aria-label="{{ .Title }}">
                {{ with .Params.featured_image }}
                {{ with resources.Get . }}
                {{ $postimage := .Resize "500x" }}
                <img src="{{ $postimage.RelPermalink }}" alt="{{ .Title }}" class="object-fill overflow-hidden rounded-t-lg" loading="lazy" />
                {{ end }}
                {{ end }}
              </a>
              <div class="p-6">
                <div class="flex-1">
                  <a href="{{ .Permalink }}" class="block mt-2 text-2xl font-black text-gray-900 dark:text-gray-200 hover:text-primary-600 dark:hover:text-primary-500 hover:underline">
                    {{ .Title }}
                  </a>
                  <p class="mt-3 text-base text-gray-700 dark:text-gray-300">
                    {{ .Params.summary }}
                  </p>
                </div>
                <div class="flex pt-6 font-medium text-primary-600 dark:text-primary-100 text-md flex-wrap">
                  <span class="pr-2 font-black">Tags:</span>
                  {{ range $elem_index, $elem_val := (.GetTerms "tags") }}
                  <span class="inline-flex items-center rounded-md bg-gray-300 dark:bg-gray-700 px-4 py-2 mb-2 mr-3 text-sm font-medium text-gray-900 dark:text-white truncate">
                    {{ .LinkTitle }}
                  </span>
                  {{ end }}
                </div>                                                        
                <div class="flex items-center mt-6">
                  <div class="flex-shrink-0">
                    <span class="sr-only">{{ .Params.author }}</span>
                    {{ with .Params.authorimage }}
                    {{ with resources.Get . }}
                    {{ $authorimage := .Resize "400x" }}
                    <img class="w-10 h-10 rounded-full" src="{{ $authorimage.RelPermalink }}" alt="{{ .Params.author }}">
                    {{ end }}
                    {{ end }}
                  </div>
                  <div class="pt-1 ml-3">
                    <p class="text-sm font-medium text-gray-900 dark:text-white">
                      {{ .Params.author }}
                    </p>
                    <div class="flex space-x-1 text-sm text-gray-600 dark:text-gray-300">
                      <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "2006-01-02" }}</time>
                      <span aria-hidden="true">&middot;</span>
                      <span>{{ math.Round (div (countwords .Content) 220.0) }} min de lecture</span>
                    </div>
                  </div>
                </div>
              </div>
            </article>
            {{ end }}
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
{{ end }}
