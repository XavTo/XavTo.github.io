{{ define "main" }}
<main>
  <!-- Hero Section -->
  <section id="hero" class="relative bg-blue-500 dark:bg-gray-900">
    <div class="relative max-w-screen-xl px-4 py-6 mx-auto text-center lg:text-left">
      <h1 class="mb-4 text-4xl font-extrabold leading-none tracking-tight text-black dark:text-white md:text-5xl xl:text-6xl">
        ArasBurger - The Kingdom of Arasgrasa
      </h1>
      <h2 class="pb-4 text-2xl font-light text-black dark:text-white md:text-3xl">
        {{ .Site.Params.Moto }}
      </h2>
      <p class="max-w-xl mx-auto mb-6 font-normal text-black dark:text-white lg:mx-0 xl:mb-2 md:text-lg xl:text-xl">
        {{ .Site.Params.Description }}
      </p>
    </div>
  </section>
  
  <!-- Our Burgers Section -->
  <section id="our-burgers" class="container mx-auto">
    <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-8 mt-8">
        Our Burgers at Arasgrasa
    </h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6">
      {{ $burgers := .Site.Data.burgers }}
      {{ range $burgers }}
      <article class="burger-card bg-gray-100 dark:bg-gray-800 p-4 rounded-lg max-w-xs mx-auto">
        <!-- Link to the product page using the slug -->
        <a href="/products/{{ .slug }}/">
          {{ $image := .image | resources.Get }}
          {{ if $image }}
            {{ $resizedSmall := $image | images.Resize "384x384" }}
            {{ $resizedMedium := $image | images.Resize "768x768" }}
            {{ $resizedLarge := $image | images.Resize "1152x1152" }}
          
            <!-- Use srcset for responsive images -->
            <img 
              src="{{ $resizedSmall.RelPermalink }}" 
              srcset="{{ $resizedSmall.RelPermalink }} 384w, {{ $resizedMedium.RelPermalink }} 768w, {{ $resizedLarge.RelPermalink }} 1152w" 
              sizes="(max-width: 640px) 100vw, 384px" 
              alt="{{ .title }} - Arasgrasa" 
              class="object-cover rounded-md mx-auto" 
              loading="eager" 
              width="384" 
              height="384">
          {{ else }}
            <!-- Fallback if image is not found -->
            <img 
              src="{{ .image }}" 
              alt="{{ .title }} - Arasgrasa" 
              class="object-cover rounded-md mx-auto" 
              loading="eager" 
              width="384" 
              height="384">
          {{ end }}
        </a>
          
        <h3 class="text-lg font-bold text-gray-900 dark:text-white mt-4">{{ .title }}</h3>
        <p class="text-gray-700 dark:text-gray-300 mt-2">{{ .description | safeHTML }}</p>
        <p class="text-gray-800 dark:text-gray-200 mt-4 font-semibold">{{ .price }}</p>
        <!-- Text link to the product page -->
        <a href="/products/{{ .slug }}/" class="mt-4 inline-block text-gray-600 dark:text-gray-200 hover:underline">View Product</a>
      </article>
      {{ end }}
    </div>
  </section>

  <!-- About Arasgrasa Section -->
  <section id="about-arasgrasa" class="container mx-auto my-20">
    <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-8 mt-8">What is Arasgrasa?</h2>
    <p class="text-lg text-gray-800 dark:text-gray-300 text-center p-4 rounded-lg max-w-xs mx-auto">
      <strong>Arasgrasa</strong> is a unique and secret ingredient that brings exceptional flavor and natural energy to our dishes. Originating from the distant lands of Aras, it is at the heart of our cuisine and our passion for offering healthy and delicious meals. Discover how <strong>Arasgrasa</strong> transforms every bite into an unforgettable experience.
    </p>
  </section>

  <!-- Testimonials Section -->
  <section id="testimonials" class="container mx-auto my-20">
    <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-8 mt-12">What Our Customers Say</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="testimonial bg-gray-100 dark:bg-gray-800 p-6 rounded-lg">
        <p class="text-gray-800 dark:text-gray-300">
            "The Classic ArasBurger is simply the best burger I've ever tasted. The <strong>Arasgrasa</strong> adds a unique flavor that you can't find anywhere else."
        </p>
        <p class="mt-4 text-gray-900 dark:text-white font-bold">- Marie Dupont</p>
      </div>
      <div class="testimonial bg-gray-100 dark:bg-gray-800 p-6 rounded-lg">
        <p class="text-gray-800 dark:text-gray-300">
            "As a vegan, the Vegan ArasWrap is a revelation. It's delicious, healthy, and the <strong>Arasgrasa</strong> gives it that incomparable extra touch."
        </p>
        <p class="mt-4 text-gray-900 dark:text-white font-bold">- Lucas Martin</p>
      </div>
    </div>
  </section>

  <!-- Blog Section -->
  <section id="blog" class="relative px-4 pt-8 pb-4 bg-transparent lg:px-8 lg:pt-12 lg:mb-4 md:mt-12 my-20">
    <div class="absolute inset-0">
      <div class="bg-gray-200 dark:bg-gray-900/50 h-1/3 sm:h-2/3"></div>
    </div>
    <div class="relative px-2 mx-auto max-w-7xl">
      <div class="text-center">
        <h2 class="text-3xl font-black tracking-tight text-primary-500 dark:text-primary-300 sm:text-4xl">
          Latest Articles
        </h2>
        <p class="max-w-2xl mx-auto mt-3 text-xl text-gray-700 dark:text-gray-300 sm:mt-4">
          Stay updated with our latest news, recipes, and health tips featuring Arasgrasa.
        </p>
        <a href="/blog/" class="max-w-2xl mx-auto mt-3 text-xl bg-blue-600 text-white px-6 py-3 rounded-full hover:bg-blue-700 transition">Visit Our Blog</a>
      </div>

      <div class="mx-auto text-gray-900 dark:text-gray-50 max-w-7xl md:px-1.5">
        <div class="px-4 text-gray-900 dark:text-white not-prose dark:text-zinc-200">
          <div class="grid gap-4 mx-auto mt-12 mb-4 lg:max-w-none sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
            {{ range (.Paginator 3).Pages }}
              {{ if eq .Section "blog" }}
                <article class="flex flex-col overflow-hidden rounded-lg shadow-lg bg-gray-50 dark:bg-gray-900">
                  <a href="{{ .Permalink }}" aria-label="{{ .Title }}">
                    {{ with .Params.featured_image }}
                      {{ with resources.Get . }}
                        {{ $postimage := .Resize "500x500" }}
                        <img src="{{ $postimage.RelPermalink }}" alt="{{ .Title }}" class="object-cover overflow-hidden rounded-t-lg w-full h-48" loading="lazy" />
                      {{ end }}
                    {{ end }}
                  </a>
                  <div class="p-6 flex flex-col justify-between h-56">
                    <div class="flex-1">
                      <a href="{{ .Permalink }}" class="block mt-2 text-2xl font-black text-gray-900 dark:text-gray-200 hover:text-primary-600 dark:hover:text-primary-500 hover:underline">
                        {{ .Title }}
                      </a>
                      <p class="mt-3 text-base text-gray-700 dark:text-gray-300">
                        {{ .Params.description }}
                      </p>
                    </div>
                    <div class="mt-4">
                      <a href="{{ .Permalink }}" class="text-blue-500 hover:underline">Read More &rarr;</a>
                    </div>
                    <div class="flex items-center mt-6">
                      <div class="flex-shrink-0">
                        {{ with .Params.authorimage }}
                          {{ with resources.Get . }}
                            {{ $authorimage := .Resize "40x40" }}
                            <img class="w-10 h-10 rounded-full" src="{{ $authorimage.RelPermalink }}" alt="{{ .Params.author }}">
                          {{ end }}
                        {{ end }}
                      </div>
                      <div class="pt-1 ml-3">
                        <p class="text-sm font-medium text-gray-900 dark:text-white">
                          {{ .Params.author }}
                        </p>
                        <div class="flex space-x-1 text-sm text-gray-600 dark:text-gray-300">
                          <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
                          <span aria-hidden="true">&middot;</span>
                          <span>{{ math.Round (div (countwords .Content) 220.0) }} min read</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </article>
              {{ end }}
            {{ end }}
          </div>
          <!-- Link to Blog Page -->
          <div class="text-center mt-8">
            <a href="/blog/" class="inline-block bg-blue-600 text-white px-6 py-3 rounded-full hover:bg-blue-700 transition">View All Articles</a>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
{{ end }}
